<!DOCTYPE html>
<html lang="fr">
<head>
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarNiger - Solutions Solaires & Simulateur Énergétique</title>
    
    <!-- Google Analytics Script -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VOTRE_ID_ANALYTICS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VOTRE_ID_ANALYTICS');
    </script>
    <!-- Fin Google Analytics -->
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
    <style>
        /* Variables */
        :root {
            --primary: #0aad8e;
            --secondary: #0d6efd;
            --accent: #ff6b00;
            --dark: #1e2a38;
            --light: #f8f9fa;
            --danger: #dc3545;
            --success: #28a745;
            --warning: #ffc107;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        /* Reset et styles de base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            color: #333;
            background-color: #f5f7fa;
            line-height: 1.6;
            font-size: 16px;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        section {
            padding: 40px 0;
        }

        .section-header {
            margin-bottom: 30px;
            text-align: center;
        }

        .section-header h3 {
            font-size: 1.8rem;
            color: var(--dark);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .section-header h3 i {
            color: var(--primary);
        }

        .btn {
            display: inline-block;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            border: none;
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
        }

        .cta-button {
            background: var(--primary);
            color: white;
            border-radius: 8px;
            padding: 15px 25px;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
        }

        .cta-button:hover {
            background: #098080;
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        /* Header */
        header {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 1.8rem;
            color: var(--primary);
        }

        .logo h1 {
            font-size: 1.5rem;
            color: var(--dark);
        }

        .logo span {
            color: var(--primary);
        }

        .nav-links {
            display: flex;
            flex-direction: column;
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 10px 10px rgba(0,0,0,0.1);
            padding: 20px;
            transform: translateY(-150%);
            transition: var(--transition);
            z-index: 999;
        }
        
        .nav-links.active {
            transform: translateY(0);
        }

        .nav-links a {
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            position: relative;
            padding: 12px 0;
            font-size: 18px;
            border-bottom: 1px solid var(--light-gray);
        }

        .nav-links a:last-child {
            border-bottom: none;
        }

        .nav-links a.active, 
        .nav-links a:hover {
            color: var(--primary);
        }

        #cart-button {
            background: var(--light-gray);
            padding: 8px 15px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        #cart-count {
            background: var(--primary);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        .hamburger {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 21px;
            cursor: pointer;
        }
        
        .hamburger span {
            height: 3px;
            width: 100%;
            background-color: var(--dark);
            border-radius: 10px;
            transition: var(--transition);
        }
        
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(120deg, rgba(10,173,142,0.9), rgba(13,110,253,0.8)), url('https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center/cover;
            color: white;
            padding: 70px 0;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .hero-content h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            line-height: 1.3;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-button {
            background: white;
            border: none;
            padding: 12px 15px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow);
            font-size: 14px;
        }

        .tab-button:hover {
            background: var(--light-gray);
        }

        .tab-button.active {
            background: var(--primary);
            color: white;
        }

        /* Filtres */
        .filters-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .filters-section h3 {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--dark);
            font-size: 1.5rem;
        }

        .filter-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            margin-bottom: 8px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-group input, 
        .filter-group select {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            width: 100%;
        }

        .filter-group input:focus, 
        .filter-group select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(10,173,142,0.2);
        }

        /* Produits */
        .products-section {
            margin-bottom: 40px;
        }

        .sort-options {
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .product-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .product-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--primary);
            color: white;
            padding: 5px 12px;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 500;
            z-index: 2;
        }

        .product-image {
            height: 200px;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-info {
            padding: 15px;
        }

        .product-title {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: var(--dark);
            cursor: pointer;
            transition: color 0.2s;
        }

        .product-title:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        .product-supplier {
            display: block;
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .product-price small {
            font-size: 1rem;
            font-weight: normal;
        }

        .product-specs {
            list-style: none;
            margin-bottom: 15px;
        }

        .product-specs li {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--light-gray);
            font-size: 0.9rem;
        }

        .product-specs li:last-child {
            border-bottom: none;
        }

        .product-specs li span:first-child {
            color: var(--gray);
        }

        .product-specs li span:last-child {
            font-weight: 500;
        }

        .product-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-cart {
            flex: 1;
            background: var(--light-gray);
            color: var(--dark);
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
            min-width: 120px;
        }

        .btn-cart:hover {
            background: var(--primary);
            color: white;
        }

        .btn-whatsapp {
            flex: 1;
            background: #25D366;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
            min-width: 120px;
        }

        .btn-whatsapp:hover {
            background: #128C7E;
        }

        .btn-compare {
            flex: 1;
            background: var(--light-gray);
            color: var(--dark);
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
            min-width: 120px;
        }

        .btn-compare:hover {
            background: var(--secondary);
            color: white;
        }

        .btn-compare.active {
            background: var(--secondary);
            color: white;
        }

        /* Simulateur */
        .calculator-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .calculator-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .simulator-instructions {
            background: #e8f4ff;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            gap: 15px;
            font-size: 0.95rem;
        }

        .simulator-instructions i {
            color: var(--secondary);
            font-size: 1.5rem;
            min-width: 40px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group label {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .system-info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .appliance-list {
            background: var(--light);
            border-radius: 8px;
            padding: 15px;
            min-height: 150px;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 150px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--light-gray);
        }

        .calculator-result {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--border-radius);
            padding: 25px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .calculator-result::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center/cover;
            opacity: 0.1;
        }

        .result-header {
            font-size: 1.3rem;
            margin-bottom: 15px;
            position: relative;
        }

        .result-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 15px 0;
            position: relative;
            text-align: center;
        }

        #recommendation-text {
            font-size: 0.95rem;
            margin-bottom: 20px;
            position: relative;
            text-align: center;
        }

        .result-description {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            position: relative;
            font-size: 0.9rem;
        }

        .result-description p {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-description p i {
            width: 25px;
            text-align: center;
        }

        .result-recommendation {
            background: rgba(255,255,255,0.15);
            border-radius: var(--border-radius);
            padding: 15px;
            position: relative;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .result-recommendation h4 {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .recommendation-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.9rem;
        }

        .recommendation-item:last-child {
            border-bottom: none;
        }

        .recommendation-value {
            font-weight: 700;
        }

        .btn-view-product {
            background: white;
            color: var(--primary);
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            transition: var(--transition);
            width: 100%;
            justify-content: center;
        }

        .btn-view-product:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 40px 0 0;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .footer-column h4 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h4::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--primary);
        }

        .footer-column p {
            color: #a0aec0;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: white;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--primary);
            transform: translateY(-3px);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 12px;
        }

        .footer-column ul li a {
            color: #a0aec0;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
        }

        .footer-column ul li a:hover {
            color: white;
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding: 20px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #a0aec0;
            font-size: 0.9rem;
        }

        /* Panier */
        .cart-summary {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            display: none;
        }

        .cart-summary h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 1.4rem;
        }

        #cart-items {
            margin-bottom: 15px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
            font-size: 0.95rem;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-total {
            font-weight: 700;
            font-size: 1.1rem;
            text-align: right;
            padding-top: 10px;
            border-top: 2px solid var(--primary);
        }

        /* Comparaison */
        .compare-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--primary);
            color: white;
            padding: 10px 0;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
            z-index: 1000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            font-size: 14px;
        }
        
        .compare-bar.active {
            transform: translateY(0);
        }
        
        .compare-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .compare-items {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .compare-item {
            display: flex;
            align-items: center;
            background: rgba(255,255,255,0.15);
            border-radius: 8px;
            padding: 6px 12px;
        }
        
        .compare-item img {
            width: 30px;
            height: 30px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 8px;
        }
        
        .compare-item-name {
            font-size: 0.85rem;
            max-width: 100px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .remove-compare {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-left: 5px;
            font-size: 1rem;
        }
        
        .compare-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .btn-compare {
            flex: 1;
            background: white;
            color: var(--primary);
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .btn-compare:hover {
            background: #f0f0f0;
        }
        
        .btn-clear-compare {
            flex: 1;
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .btn-clear-compare:hover {
            background: rgba(255,255,255,0.3);
        }
        
        /* Modal de comparaison */
        .compare-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .compare-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 95%;
            max-width: 1200px;
            max-height: 90vh;
            overflow: auto;
            padding: 20px;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .modal-header h3 {
            color: var(--primary);
            font-size: 1.5rem;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .compare-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        
        .compare-table th {
            background: var(--primary);
            color: white;
            padding: 12px;
            text-align: left;
            font-size: 0.95rem;
        }
        
        .compare-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }
        
        .compare-table tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        .product-header {
            text-align: center;
            padding: 10px;
            background: #f0f7ff;
            border-radius: 8px;
        }
        
        .product-header img {
            max-width: 80px;
            max-height: 70px;
            margin-bottom: 8px;
        }
        
        .product-header h4 {
            margin: 0;
            color: var(--primary);
            font-size: 1rem;
        }
        
        .product-header .price {
            font-weight: bold;
            color: var(--secondary);
            font-size: 0.95rem;
            margin-top: 5px;
        }
        
        /* Formulaire de commande */
        .order-form {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-top: 15px;
            display: none;
        }
        
        .order-form h4 {
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.3rem;
        }
        
        .form-row {
            margin-bottom: 15px;
        }
        
        .form-row label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-row input,
        .form-row textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .form-submit {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            width: 100%;
            font-size: 1rem;
        }
        
        .form-submit:hover {
            background: #098080;
        }
        
        .form-error {
            color: var(--danger);
            margin-top: 5px;
            font-size: 0.9rem;
            display: none;
        }
        
        .download-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            color: var(--secondary);
            text-decoration: none;
            font-size: 0.95rem;
        }
        
        .download-link:hover {
            text-decoration: underline;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            display: none;
            max-width: 300px;
            font-size: 0.95rem;
        }
        
        /* Bouton Voir plus */
        .see-more-container {
            grid-column: 1 / -1;
            text-align: center;
            margin-top: 20px;
        }
        
        .see-more-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .see-more-btn:hover {
            background: #098080;
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        /* Modal pour la description produit */
        .description-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
        }

        .description-modal-content {
            background-color: #fff;
            margin: 10% auto;
            padding: 25px;
            border-radius: 12px;
            max-width: 600px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .description-modal-content h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .description-modal-content p {
            line-height: 1.6;
            color: #333;
            font-size: 1rem;
        }

        .close-description-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-description-modal:hover {
            color: var(--primary);
        }

        /* Modal d'aide */
        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 2000;
            overflow: auto;
        }

        .help-modal-content {
            background-color: #fff;
            margin: 5% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            position: relative;
        }

        .close-help-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-help-modal:hover {
            color: var(--primary);
        }

        .faq-container {
            margin-top: 20px;
        }

        .faq-item {
            margin-bottom: 15px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            overflow: hidden;
        }

        .faq-question {
            padding: 15px;
            background-color: var(--light);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-question::after {
            content: '\f078';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            transition: transform 0.3s;
        }

        .faq-item.active .faq-question::after {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s, padding 0.3s;
            background-color: white;
        }

        .faq-item.active .faq-answer {
            padding: 15px;
            max-height: 500px;
        }
        
        /* Note pour mobile */
        .mobile-note {
            display: none;
            background: #e8f4ff;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            align-items: center;
            gap: 15px;
        }

        .mobile-note i {
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        /* Styles pour mobile - Affichage mosaïque */
        @media (max-width: 767px) {
            .product-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .product-card {
                flex-direction: column;
                height: auto;
            }
            
            .product-image {
                height: 120px;
            }
            
            .product-info {
                padding: 10px;
            }
            
            .product-title {
                font-size: 0.95rem;
                height: auto;
                overflow: visible;
                white-space: normal;
            }
            
            .product-supplier {
                font-size: 0.8rem;
                margin-bottom: 8px;
            }
            
            .product-price {
                font-size: 1.1rem;
                margin-bottom: 8px;
            }
            
            .product-specs {
                display: none;
            }
            
            .product-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .btn-cart, .btn-whatsapp, .btn-compare {
                width: 100%;
                justify-content: center;
                font-size: 0.85rem;
                padding: 8px;
            }
            
            .product-badge {
                font-size: 0.7rem;
                padding: 3px 8px;
            }

            .description-modal-content {
                width: 90%;
                margin: 20% auto;
                padding: 20px;
            }
            
            .mobile-note {
                display: flex;
            }
        }
        
        /* Responsive */
        @media (min-width: 576px) {
            .system-info-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 768px) {
            .header-content {
                padding: 15px 0;
            }
            
            .nav-links {
                position: static;
                flex-direction: row;
                padding: 0;
                transform: none;
                box-shadow: none;
                width: auto;
            }
            
            .nav-links a {
                padding: 8px 0;
                border-bottom: none;
                font-size: 16px;
            }
            
            .hamburger {
                display: none;
            }
            
            .product-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .system-info-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .footer-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 992px) {
            .calculator-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .filter-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .footer-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (min-width: 1200px) {
            .filter-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        
        /* Ajout du style pour les actions du panier */
        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .remove-from-cart {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 1rem;
        }

        /* Mise en surbrillance */
        .highlight {
            animation: highlight 3s ease;
            box-shadow: 0 0 0 3px var(--accent);
        }

        @keyframes highlight {
            0% { box-shadow: 0 0 0 0 var(--accent); }
            50% { box-shadow: 0 0 0 10px rgba(255, 107, 0, 0.5); }
            100% { box-shadow: 0 0 0 0 var(--accent); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-solar-panel"></i>
                <h1>SOLAR<span>NIGER</span></h1>
            </div>
            
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <nav class="nav-links" id="nav-links">
                <a href="#" class="active">Accueil</a>
                <a href="#products">Comparer</a>
                <a href="#calculator">Simulateur</a>
                <a href="#" id="help-link">Aide</a>
                <a href="#" id="cart-button">
                    <i class="fas fa-shopping-cart"></i> Panier
                    <span id="cart-count">0</span>
                </a>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h2>Comparez, simulez, économisez : trouvez la meilleure solution énergétique pour votre foyer ou entreprise.</h2>
            </div>
        </section>

        <!-- Barre de comparaison -->
        <div class="compare-bar" id="compare-bar">
            <div class="compare-container">
                <div class="compare-items" id="compare-items">
                    <!-- Les produits sélectionnés pour comparaison seront ajoutés ici -->
                </div>
                <div class="compare-actions">
                    <button class="btn-compare" id="btn-show-compare">
                        <i class="fas fa-exchange-alt"></i> Comparer (<span id="compare-count">0</span>)
                    </button>
                    <button class="btn-clear-compare" id="btn-clear-compare">
                        <i class="fas fa-trash"></i> Vider
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal de comparaison -->
        <div class="compare-modal" id="compare-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Comparaison des produits</h3>
                    <button class="close-modal" id="close-compare-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="compare-content">
                    <!-- Le contenu de comparaison sera généré ici -->
                </div>
            </div>
        </div>

        <!-- Modal d'aide -->
        <div id="help-modal" class="help-modal">
            <div class="help-modal-content">
                <span class="close-help-modal">&times;</span>
                <h3><i class="fas fa-question-circle"></i> Centre d'aide SolarNiger</h3>
                
                <!-- Note pour mobile -->
                <div class="mobile-note">
                    <i class="fas fa-mobile-alt fa-rotate-90"></i>
                    <p>Pour une meilleure expérience, tournez votre téléphone en mode paysage pour lire l'intégralité du contenu.</p>
                </div>
                
                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">Comment marche le simulateur énergétique ?</div>
                        <div class="faq-answer">
                            <p>Le simulateur énergétique vous permet de calculer vos besoins en énergie solaire. Voici comment il fonctionne :</p>
                            <ol>
                                <li>Ajoutez vos équipements électriques avec leur puissance en watts</li>
                                <li>Indiquez la durée d'utilisation quotidienne pour chaque équipement</li>
                                <li>Précisez le nombre d'appareils similaires que vous utilisez</li>
                                <li>Sélectionnez votre région au Niger pour bénéficier des données d'ensoleillement locales</li>
                                <li>Choisissez la tension du système (12V, 24V ou 48V)</li>
                                <li>Cliquez sur "Calculer mes besoins"</li>
                            </ol>
                            <p>Le simulateur vous fournira alors :</p>
                            <ul>
                                <li>La puissance solaire nécessaire pour votre installation</li>
                                <li>La capacité de batterie requise</li>
                                <li>La puissance du convertisseur nécessaire</li>
                                <li>Des recommandations de produits adaptés à vos besoins</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">Quel est la composition d'un kit complet solaire ?</div>
                        <div class="faq-answer">
                            <p>Un kit solaire complet se compose généralement des éléments suivants :</p>
                            <ul>
                                <li><strong>Panneaux solaires</strong> : Convertissent la lumière du soleil en électricité</li>
                                <li><strong>Régulateur de charge</strong> : Protège les batteries contre la surcharge</li>
                                <li><strong>Batteries</strong> : Stockent l'énergie pour une utilisation ultérieure</li>
                                <li><strong>Convertisseur</strong> : Tous nos convertisseurs sont des onduleurs hybrides avec régulateur de charge intégré. Ils transforment le courant continu (DC) des batteries en courant alternatif (AC) pour alimenter vos appareils, et intègrent un contrôleur de charge MPPT pour optimiser la charge des batteries. Ainsi, vous n'avez pas besoin d'acheter un régulateur de charge séparé.</li>
                                <li><strong>Structure de montage</strong> : Support pour installer les panneaux solaires</li>
                                <li><strong>Câblage et connectiques</strong> : Pour relier tous les éléments du système</li>
                            </ul>
                            <p>Les kits varient en fonction de la puissance et de l'utilisation (domestique, professionnelle, etc.). Notre comparateur vous aide à choisir le kit le plus adapté à vos besoins.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">À quoi sert le comparateur de produits ?</div>
                        <div class="faq-answer">
                            <p>Le comparateur de produits vous permet de :</p>
                            <ul>
                                <li>Comparer jusqu'à 4 produits solaires (kits, panneaux, batteries, convertisseurs)</li>
                                <li>Évaluer les caractéristiques techniques côte à côte</li>
                                <li>Comparer les prix et les garanties</li>
                                <li>Identifier les produits les plus adaptés à votre budget et vos besoins</li>
                                <li>Prendre une décision éclairée sur votre achat</li>
                            </ul>
                            <p>Pour utiliser le comparateur :</p>
                            <ol>
                                <li>Parcourez notre catalogue de produits</li>
                                <li>Cliquez sur le bouton "Comparer" sur les produits qui vous intéressent</li>
                                <li>Une barre de comparaison s'affichera en bas de l'écran</li>
                                <li>Cliquez sur "Comparer" dans cette barre pour voir le tableau comparatif</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">Comprendre les termes techniques</div>
                        <div class="faq-answer">
                            <p><strong>Watt (W)</strong> : Unité de mesure de la puissance électrique. Indique la quantité d'énergie qu'un appareil consomme ou produit par seconde.</p>
                            <p><strong>Ampère-heure (Ah)</strong> : Unité de capacité des batteries. Indique la quantité d'énergie qu'une batterie peut stocker. Par exemple, une batterie de 100Ah peut théoriquement fournir 1 ampère pendant 100 heures ou 10 ampères pendant 10 heures.</p>
                            <p><strong>kVA (Kilovoltampère)</strong> : Unité de puissance apparente, principalement utilisée pour les convertisseurs. 1 kVA = 1000 VA. Pour une estimation rapide, on considère souvent que 1 kVA ≈ 800 watts.</p>
                            <p><strong>Watt-crête (Wc)</strong> : Unité de mesure de la puissance maximale qu'un panneau solaire peut produire dans des conditions d'ensoleillement optimales (1000 W/m² à 25°C).</p>
                            <p><strong>Tension du système (V)</strong> : La tension électrique du circuit. Les systèmes solaires fonctionnent généralement en 12V, 24V ou 48V. Plus la tension est élevée, moins les pertes en ligne sont importantes, ce qui est particulièrement important pour les installations de grande taille.</p>
                            <p><strong>Rendement</strong> : Pourcentage qui indique l'efficacité de conversion de l'énergie. Par exemple, un panneau solaire avec un rendement de 20% convertit 20% de l'énergie solaire reçue en électricité.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Summary -->
        <div class="cart-summary" id="cart-summary">
            <h3><i class="fas fa-shopping-cart"></i> Votre Panier</h3>
            <div id="cart-items"></div>
            <div class="cart-total" id="cart-total">Total: 0 FCFA</div>
            
            <!-- Formulaire de commande -->
            <div class="order-form" id="order-form">
                <h4><i class="fas fa-shopping-bag"></i> Passer commande</h4>
                <div class="form-row">
                    <label for="order-name">Nom complet</label>
                    <input type="text" id="order-name" placeholder="Votre nom">
                    <div class="form-error" id="name-error">Veuillez entrer votre nom</div>
                </div>
                <div class="form-row">
                    <label for="order-phone">Téléphone</label>
                    <input type="tel" id="order-phone" placeholder="Votre numéro de téléphone">
                    <div class="form-error" id="phone-error">Veuillez entrer un numéro valide</div>
                </div>
                <div class="form-row">
                    <label for="order-address">Adresse</label>
                    <input type="text" id="order-address" placeholder="Votre adresse">
                    <div class="form-error" id="address-error">Veuillez entrer votre adresse</div>
                </div>
                <div class="form-row">
                    <label for="order-notes">Notes supplémentaires</label>
                    <textarea id="order-notes" placeholder="Informations complémentaires"></textarea>
                </div>
                <button class="form-submit" id="submit-order">Valider la commande</button>
                <a href="#" class="download-link" id="download-order">
                    <i class="fas fa-download"></i> Télécharger un bon de commande
                </a>
            </div>
            
            <!-- Bouton WhatsApp -->
            <button class="btn-whatsapp" style="margin-top: 15px;" id="checkout-button">
                <i class="fab fa-whatsapp"></i> Commander via WhatsApp
            </button>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs">
            <button class="tab-button active" data-tab="panels">
                <i class="fas fa-solar-panel"></i> Panneaux
            </button>
            <button class="tab-button" data-tab="batteries">
                <i class="fas fa-car-battery"></i> Batteries
            </button>
            <button class="tab-button" data-tab="converters">
                <i class="fas fa-bolt"></i> Convertisseurs
            </button>
            <button class="tab-button" data-tab="kits">
                <i class="fas fa-cubes"></i> Autres
            </button>
        </div>

        <!-- Filters Section -->
        <section class="filters-section">
            <h3><i class="fas fa-sliders-h"></i> Filtres de recherche</h3>
            <div class="filter-grid">
                <div class="filter-group">
                    <label for="min-price"><i class="fas fa-tag"></i> Prix min (FCFA)</label>
                    <input type="number" id="min-price" min="25000" value="25000">
                </div>
                
                <div class="filter-group">
                    <label for="max-price"><i class="fas fa-tag"></i> Prix max (FCFA)</label>
                    <input type="number" id="max-price" min="25000" value="2000000">
                </div>
                
                <!-- MODIFICATION: Remplacer le select par un input avec datalist -->
                <div class="filter-group">
                    <label for="brand"><i class="fas fa-tags"></i> Marque</label>
                    <input type="text" id="brand" list="brand-list" placeholder="Toutes les marques">
                    <datalist id="brand-list">
                        <option value="SAKO">SAKO Solar</option>
                        <option value="Felicity">Felicity Solar</option>
                        <option value="SOL">SOL! Niger</option>
                        <option value="Autre">Autres marques</option>
                    </datalist>
                </div>
                
                <div class="filter-group">
                    <label for="power"><i class="fas fa-bolt"></i> Puissance min (W)</label>
                    <input type="number" id="power" min="100" value="100">
                </div>
                
                <div class="filter-group">
                    <label for="search"><i class="fas fa-search"></i> Recherche intelligente</label>
                    <input type="text" id="search" placeholder="Nom, type, marque, description...">
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="products-section">
            <div class="section-header">
                <h3><i class="fas fa-solar-panel"></i> Catalogue de produits</h3>
                <div class="sort-options">
                    <span>Trier par :</span>
                    <select id="sort">
                        <option value="price-asc">Prix (bas à élevé)</option>
                        <option value="price-desc">Prix (élevé à bas)</option>
                        <option value="power-asc">Puissance (bas à élevé)</option>
                        <option value="power-desc">Puissance (élevé à bas)</option>
                    </select>
                </div>
            </div>
            <div class="product-grid" id="product-container">
                <!-- Les produits seront chargés dynamiquement par JavaScript -->
            </div>
            <!-- Conteneur pour le bouton "Voir plus" -->
            <div id="see-more-container"></div>
        </section>

        <!-- Calculator Section -->
        <section id="calculator" class="calculator-section">
            <div class="section-header">
                <h3><i class="fas fa-calculator"></i> Simulateur de besoins énergétiques</h3>
            </div>
            <div class="calculator-grid">
                <div class="calculator-form">
                    <div class="simulator-instructions">
                        <i class="fas fa-info-circle"></i>
                        <div>Ajoutez vos équipements électriques avec leur puissance, durée d'utilisation quotidienne et quantité pour calculer vos besoins énergétiques</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="appliance-name"><i class="fas fa-tag"></i> Nom de l'équipement</label>
                        <input type="text" id="appliance-name" placeholder="Ex: Télévision, Réfrigérateur...">
                    </div>
                    
                    <div class="system-info-grid">
                        <div class="form-group">
                            <label for="appliance-power"><i class="fas fa-bolt"></i> Puissance (W)</label>
                            <input type="number" id="appliance-power" placeholder="Puissance en watts">
                        </div>
                        
                        <div class="form-group">
                            <label for="appliance-hours"><i class="fas fa-clock"></i> Heures/jour</label>
                            <input type="number" id="appliance-hours" placeholder="Heures par jour">
                        </div>
                        
                        <div class="form-group">
                            <label for="appliance-quantity"><i class="fas fa-calculator"></i> Quantité</label>
                            <input type="number" id="appliance-quantity" value="1">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="appliance-simultane"><i class="fas fa-plug"></i> Utilisation simultanée</label>
                        <select id="appliance-simultane">
                            <option value="1">Oui</option>
                            <option value="0">Non</option>
                        </select>
                    </div>
                    
                    <button id="add-appliance-btn" class="cta-button" style="padding: 10px 15px;">
                        <i class="fas fa-plus"></i> Ajouter l'équipement
                    </button>
                    
                    <div class="form-group">
                        <h4><i class="fas fa-list"></i> Vos équipements</h4>
                        <div class="appliance-list" id="appliance-list">
                            <div class="empty-state">
                                <i class="fas fa-plug"></i>
                                <p>Aucun équipement ajouté</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="system-info-grid">
                        <div class="form-group">
                            <label for="region"><i class="fas fa-map-marker-alt"></i> Région au Niger</label>
                            <select id="region">
                                <option value="Niamey">Niamey (5.8 h/j)</option>
                                <option value="Agadez">Agadez (6.2 h/j)</option>
                                <option value="Zinder">Zinder (6.0 h/j)</option>
                                <option value="Maradi">Maradi (5.9 h/j)</option>
                                <option value="Tahoua">Tahoua (6.1 h/j)</option>
                                <option value="Diffa">Diffa (6.0 h/j)</option>
                                <option value="Dosso">Dosso (5.7 h/j)</option>
                                <option value="Tillabéri">Tillabéri (5.8 h/j)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="system-voltage"><i class="fas fa-battery-full"></i> Tension du système</label>
                            <select id="system-voltage">
                                <option value="12">12V (système petit/moyen)</option>
                                <option value="24">24V (système moyen)</option>
                                <option value="48">48V (système grand)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="cta-button" id="calculate-button">
                        <i class="fas fa-calculator"></i> Calculer mes besoins
                    </button>
                </div>
                
                <div class="calculator-result">
                    <div class="result-header">Résultats de simulation</div>
                    <div class="result-value" id="power-result">0Wc</div>
                    <div id="recommendation-text">Saisissez vos besoins pour obtenir une recommandation</div>
                    
                    <div class="result-description" id="result-details">
                        <p><i class="fas fa-sun"></i> Ensoleillement: <strong>5.8 kWh/m²/j</strong></p>
                        <p><i class="fas fa-bolt"></i> Consommation estimée: <strong>0 Wh/jour</strong></p>
                        <p><i class="fas fa-battery-full"></i> Batterie nécessaire: <strong>0 Ah</strong></p>
                        <p><i class="fas fa-plug"></i> Convertisseur nécessaire: <strong>0 kVA</strong></p>
                    </div>
                    
                    <div id="recommended-panels" class="result-recommendation">
                        <!-- Recommandation panneaux -->
                    </div>
                    
                    <div id="recommended-batteries" class="result-recommendation">
                        <!-- Recommandation batteries -->
                    </div>
                    
                    <div id="recommended-converters" class="result-recommendation">
                        <!-- Recommandation convertisseurs -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4>À propos de SolarNiger</h4>
                    <p>Solution complète pour dimensionner et comparer les kits solaires adaptés au climat nigérien.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h4>Liens rapides</h4>
                    <ul>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Accueil</a></li>
                        <li><a href="#products"><i class="fas fa-chevron-right"></i> Comparateur</a></li>
                        <li><a href="#calculator"><i class="fas fa-chevron-right"></i> Simulateur</a></li>
                        <li><a href="#" id="help-footer-link"><i class="fas fa-chevron-right"></i> Aide</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> Niamey, Niger</a></li>
                        <li><a href="tel:+22790143507"><i class="fas fa-phone"></i> +227 90 14 35 07</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> contact@solar-niger.ne</a></li>
                        <li style="margin-top: 15px;">
                            <a href="https://wa.me/22790143507" class="btn-whatsapp" target="_blank">
                                <i class="fab fa-whatsapp"></i> Commander via WhatsApp
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 SolarNiger - Tous droits réservés | Solution adaptée au Niger</p>
            </div>
        </div>
    </footer>

    <!-- Notification -->
    <div class="notification" id="notification"></div>
    
    <!-- Modal pour la description produit -->
    <div id="description-modal" class="description-modal">
        <div class="description-modal-content">
            <span class="close-description-modal">&times;</span>
            <h3 id="modal-product-name"></h3>
            <p id="modal-product-description"></p>
        </div>
    </div>

    <script>
        // Base de données des produits
        let products = [
            // Kits complets
            {
                id: 1,
                name: "Kit SOL Niger Pro 5000",
                type: "kit",
                brand: "SOL",
                price: 950000,
                power: 5000,
                battery: "Oui (250Ah LiFePO4)",
                locations: ["Niamey", "Agadez"],
                description: "Solution locale avec service technique et adaptée au climat sahélien",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "92%",
                warranty: "5 ans",
                dimensions: "120x80x40 cm",
                weight: "45 kg"
            },
            {
                id: 2,
                name: "SAKO Hybrid Inverter 6000W",
                type: "kit",
                brand: "SAKO",
                price: 899000,
                power: 6000,
                battery: "Non",
                locations: ["Niamey", "Maradi"],
                description: "Onduleur hybride avec contrôleur MPPT intégré et grande capacité de charge",
                image: "https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "94%",
                warranty: "4 ans",
                dimensions: "100x60x30 cm",
                weight: "38 kg"
            },
            {
                id: 3,
                name: "Kit Felicity Solar 3000",
                type: "kit",
                brand: "Felicity",
                price: 675000,
                power: 3000,
                battery: "Oui (150Ah Gel)",
                locations: ["Niamey", "Zinder"],
                description: "Kit complet pour maison moyenne avec batterie de qualité",
                image: "https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "90%",
                warranty: "3 ans",
                dimensions: "110x70x35 cm",
                weight: "42 kg"
            },
            {
                id: 4,
                name: "Kit SAKO Pro 8000",
                type: "kit",
                brand: "SAKO",
                price: 1250000,
                power: 8000,
                battery: "Oui (400Ah LiFePO4)",
                locations: ["Niamey", "Tahoua"],
                description: "Système haute performance pour commerces et bureaux",
                image: "https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "95%",
                warranty: "5 ans",
                dimensions: "140x90x50 cm",
                weight: "65 kg"
            },
            
            // Panneaux
            {
                id: 5,
                name: "Panneau 250W Mono",
                type: "panel",
                brand: "SAKO",
                price: 125000,
                power: 250,
                description: "Panneau monocristallin haute efficacité",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "18.5%",
                warranty: "10 ans",
                dimensions: "165x99x3.5 cm",
                weight: "19 kg"
            },
            {
                id: 6,
                name: "Panneau SOL 400W",
                type: "panel",
                brand: "SOL",
                price: 189000,
                power: 400,
                description: "Panneau solaire haut rendement adapté au climat nigérien",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "20.2%",
                warranty: "12 ans",
                dimensions: "200x100x4 cm",
                weight: "24 kg"
            },
            {
                id: 7,
                name: "Panneau Felicity 150W",
                type: "panel",
                brand: "Felicity",
                price: 75000,
                power: 150,
                description: "Panneau polycristallin résistant aux températures élevées",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "16.8%",
                warranty: "8 ans",
                dimensions: "148x68x3.5 cm",
                weight: "15 kg"
            },
            {
                id: 13,
                name: "Panneau SOL 300W",
                type: "panel",
                brand: "SOL",
                price: 145000,
                power: 300,
                description: "Panneau solaire de puissance moyenne",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "18.8%",
                warranty: "10 ans",
                dimensions: "180x95x4 cm",
                weight: "21 kg"
            },
            
            // Batteries
            {
                id: 8,
                name: "Batterie Gel 200Ah",
                type: "battery",
                brand: "Felicity",
                price: 225000,
                capacity: 200,
                voltage: "12", // Ajout de la tension
                description: "Batterie Gel 12V pour systèmes solaires",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                warranty: "3 ans",
                weight: "62 kg"
            },
            {
                id: 9,
                name: "Batterie LiFePO4 100Ah",
                type: "battery",
                brand: "SOL",
                price: 350000,
                capacity: 100,
                voltage: "12", // Ajout de la tension
                description: "Batterie lithium longue durée pour systèmes solaires",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                warranty: "5 ans",
                weight: "14 kg"
            },
            {
                id: 12,
                name: "Batterie Gel 150Ah",
                type: "battery",
                brand: "SAKO",
                price: 195000,
                capacity: 150,
                voltage: "24", // Ajout de la tension
                description: "Batterie Gel 12V pour systèmes solaires",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                warranty: "3 ans",
                weight: "52 kg"
            },
            {
                id: 14,
                name: "Batterie Gel 300Ah",
                type: "battery",
                brand: "SAKO",
                price: 325000,
                capacity: 300,
                voltage: "48", // Ajout de la tension
                description: "Batterie haute capacité pour systèmes solaires",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                warranty: "3 ans",
                weight: "85 kg"
            },
            
            // Convertisseurs
            {
                id: 10,
                name: "Convertisseur Hybride 3000VA",
                type: "converter",
                brand: "SOL",
                price: 185000,
                power: 3000,
                inputVoltage: "12", // Ajout de la tension d'entrée
                description: "Convertisseur hybride pur sinus pour systèmes solaires",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "93%",
                warranty: "3 ans",
                weight: "8.5 kg"
            },
            {
                id: 11,
                name: "Convertisseur Hybride SAKO 5000VA",
                type: "converter",
                brand: "SAKO",
                price: 275000,
                power: 5000,
                inputVoltage: "24", // Ajout de la tension d'entrée
                description: "Convertisseur hybride MPPT pour systèmes solaires",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "95%",
                warranty: "4 ans",
                weight: "12 kg"
            },
            {
                id: 15,
                name: "Convertisseur Hybride Felicity 2000VA",
                type: "converter",
                brand: "Felicity",
                price: 155000,
                power: 2000,
                inputVoltage: "48", // Ajout de la tension d'entrée
                description: "Convertisseur hybride pour systèmes solaires résidentiels",
                image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                efficiency: "92%",
                warranty: "3 ans",
                weight: "7.2 kg"
            }
        ];

        // Configuration de Fuse.js pour la recherche intelligente
        const fuseOptions = {
            keys: [
                { name: "name", weight: 0.5 },
                { name: "type", weight: 0.3 },
                { name: "brand", weight: 0.2 },
                { name: "description", weight: 0.2 }
            ],
            threshold: 0.4,
            ignoreLocation: true,
            includeScore: true
        };

        let fuse = new Fuse(products, fuseOptions);

        // Liste des appareils pour le simulateur
        let appliances = [];
        
        // Panier
        let cart = [];
        
        // Produits sélectionnés pour comparaison
        let compareProducts = [];
        
        // Base de données solaire du Niger
        const solarDataNiger = {
            regions: {
                "Niamey": { sunHours: 5.8, solarIrradiance: 5.9 },
                "Agadez": { sunHours: 6.2, solarIrradiance: 6.3 },
                "Zinder": { sunHours: 6.0, solarIrradiance: 6.1 },
                "Maradi": { sunHours: 5.9, solarIrradiance: 6.0 },
                "Tahoua": { sunHours: 6.1, solarIrradiance: 6.2 },
                "Diffa": { sunHours: 6.0, solarIrradiance: 6.1 },
                "Dosso": { sunHours: 5.7, solarIrradiance: 5.8 },
                "Tillabéri": { sunHours: 5.8, solarIrradiance: 5.9 }
            },
            panelEfficiency: 0.18, // Rendement moyen des panneaux
            systemEfficiency: 0.85, // Rendement du système
            batteryDod: 0.5, // Profondeur de décharge des batteries
            daysAutonomy: 2 // Jours d'autonomie
        };
        
        // Variables de pagination
        let currentPage = 1;
        const productsPerPage = 4;
        
        // Obtenir le nom complet de la marque
        function getBrandFullName(brandCode) {
            const brands = {
                "SAKO": "SAKO Solar",
                "Felicity": "Felicity Solar",
                "SOL": "SOL! Niger",
                "Autre": "Autre marque"
            };
            return brands[brandCode] || brandCode;
        }
        
        // Obtenir le type de produit
        function getProductType(type) {
            const types = {
                "kit": "Autre",
                "panel": "Panneau solaire",
                "battery": "Batterie",
                "converter": "Convertisseur" // Changé de "Convertisseur hybride"
            };
            return types[type] || type;
        }
        
        // Vérifier si l'utilisateur est sur mobile
        function isMobileDevice() {
            return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
        }
        
        // Charger les produits depuis le fichier JSON
        function loadProducts() {
            fetch('/data/products.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Fichier produits non trouvé');
                    }
                    return response.json();
                })
                .then(data => {
                    products = data.products || [];
                    fuse = new Fuse(products, fuseOptions);
                    displayProducts();
                })
                .catch(error => {
                    console.error('Erreur lors du chargement des produits:', error);
                    showNotification("Erreur de chargement des produits. Veuillez réessayer.");
                });
        }

        // Afficher les produits avec recherche intelligente et pagination
        function displayProducts() {
            const container = document.getElementById('product-container');
            const seeMoreContainer = document.getElementById('see-more-container');
            container.innerHTML = '';
            seeMoreContainer.innerHTML = '';

            const activeTab = document.querySelector('.tab-button.active').dataset.tab;
            const minPrice = parseInt(document.getElementById('min-price').value) || 25000;
            const maxPrice = parseInt(document.getElementById('max-price').value) || 2000000;
            const brandFilter = document.getElementById('brand').value;
            const minPower = parseInt(document.getElementById('power').value) || 100;
            const searchTerm = document.getElementById('search').value.trim();
            
            // Déterminer le filtre de type basé sur l'onglet actif
            let typeFilter = "";
            if (activeTab === 'kits') typeFilter = "kit";
            else if (activeTab === 'panels') typeFilter = "panel";
            else if (activeTab === 'batteries') typeFilter = "battery";
            else if (activeTab === 'converters') typeFilter = "converter";
            
            // Appliquer le filtrage intelligent
            let filteredProducts;
            
            if (searchTerm) {
                // Recherche floue
                const results = fuse.search(searchTerm);
                filteredProducts = results.map(res => res.item);
            } else {
                // Tous les produits
                filteredProducts = [...products];
            }
            
            // Filtrer les produits
            filteredProducts = filteredProducts.filter(product => {
                // Filtre par type
                if (typeFilter && product.type !== typeFilter) return false;
                
                // Filtre par prix
                if (product.price < minPrice || product.price > maxPrice) return false;
                
                // Filtre par marque - MODIFICATION: Utilisation de la valeur saisie
                if (brandFilter) {
                    const brandName = getBrandFullName(product.brand).toLowerCase();
                    if (!brandName.includes(brandFilter.toLowerCase())) {
                        return false;
                    }
                }
                
                // Filtre par puissance
                if ((product.power && product.power < minPower) || 
                    (product.capacity && product.capacity < minPower)) return false;
                
                return true;
            });

            // Trier les produits
            const sortValue = document.getElementById('sort').value;
            const sortedProducts = [...filteredProducts].sort((a, b) => {
                switch(sortValue) {
                    case 'price-asc':
                        return a.price - b.price;
                    case 'price-desc':
                        return b.price - a.price;
                    case 'power-asc':
                        return (a.power || a.capacity || 0) - (b.power || b.capacity || 0);
                    case 'power-desc':
                        return (b.power || b.capacity || 0) - (a.power || a.capacity || 0);
                    default:
                        return a.id - b.id;
                }
            });

            // Pagination
            const startIndex = 0;
            const endIndex = currentPage * productsPerPage;
            const productsToShow = sortedProducts.slice(startIndex, endIndex);
            const totalProducts = sortedProducts.length;
            const remainingProducts = totalProducts - endIndex;

            // Afficher les produits
            if (productsToShow.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <i class="fas fa-search"></i>
                        <h3>Aucun produit trouvé</h3>
                        <p>Essayez d'ajuster vos critères de recherche</p>
                    </div>
                `;
                return;
            }
            
            productsToShow.forEach(product => {
                const formattedPrice = product.price.toLocaleString('fr-FR');
                const powerLabel = product.type === 'battery' ? 'Capacité' : 'Puissance';
                const powerValue = product.type === 'battery' ? `${product.capacity}Ah` : 
                                  (product.type === 'converter' ? `${product.power}VA` : `${product.power}W`);
                const isInCompare = compareProducts.includes(product.id);
                
                container.innerHTML += `
                <div class="product-card" data-id="${product.id}">
                    <div class="product-badge">${product.brand}</div>
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title" data-id="${product.id}">${product.name}</h3>
                        <span class="product-supplier">${getBrandFullName(product.brand)}</span>
                        <div class="product-price">${formattedPrice} <small>FCFA</small></div>
                        <ul class="product-specs">
                            <li><span><i class="fas fa-bolt"></i> ${powerLabel}:</span> <span>${powerValue}</span></li>
                            ${product.type === 'kit' ? `<li><span><i class="fas fa-car-battery"></i> Batterie:</span> <span>${product.battery}</span></li>` : ''}
                            ${product.type === 'battery' ? `<li><span><i class="fas fa-bolt"></i> Tension:</span> <span>${product.voltage}V</span></li>` : ''}
                            ${product.type === 'converter' ? `<li><span><i class="fas fa-plug"></i> Entrée:</span> <span>${product.inputVoltage}V</span></li>` : ''}
                            <li><span><i class="fas fa-info-circle"></i> Type:</span> <span>${getProductType(product.type)}</span></li>
                        </ul>
                        <div class="product-buttons">
                            <button class="btn-cart" data-id="${product.id}">
                                <i class="fas fa-shopping-cart"></i> Ajouter
                            </button>
                            <button class="btn-whatsapp" data-id="${product.id}">
                                <i class="fab fa-whatsapp"></i> Commander
                            </button>
                            <button class="btn-compare ${isInCompare ? 'active' : ''}" data-id="${product.id}">
                                <i class="fas fa-exchange-alt"></i> ${isInCompare ? 'Retirer' : 'Comparer'}
                            </button>
                        </div>
                    </div>
                </div>
                `;
            });
            
            // Afficher le bouton "Voir plus" s'il reste des produits
            if (remainingProducts > 0) {
                seeMoreContainer.innerHTML = `
                    <div class="see-more-container">
                        <button class="see-more-btn" id="see-more-btn">
                            <i class="fas fa-plus"></i> Voir plus (${remainingProducts} produits)
                        </button>
                    </div>
                `;
                
                document.getElementById('see-more-btn').addEventListener('click', function() {
                    currentPage++;
                    displayProducts();
                });
            }
            
            // Ajouter les événements aux boutons
            document.querySelectorAll('.btn-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.dataset.id);
                    addToCart(productId);
                });
            });
            
            document.querySelectorAll('.btn-whatsapp').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.dataset.id);
                    const product = products.find(p => p.id === productId);
                    openWhatsApp(product);
                });
            });
            
            document.querySelectorAll('.btn-compare').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.dataset.id);
                    toggleCompare(productId);
                });
            });
            
            // Ajouter les événements aux titres de produits
            document.querySelectorAll('.product-title').forEach(title => {
                title.addEventListener('click', function() {
                    const productId = parseInt(this.dataset.id);
                    showProductDescription(productId);
                });
            });
        }
        
        // Fonction pour afficher la description du produit
        function showProductDescription(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const modal = document.getElementById('description-modal');
            const productName = document.getElementById('modal-product-name');
            const productDescription = document.getElementById('modal-product-description');
            
            // Mettre à jour le contenu de la modal
            productName.textContent = product.name;
            productDescription.textContent = product.description;
            
            // Afficher la modal
            modal.style.display = 'block';
            
            // Empêcher le défilement de la page principale
            document.body.style.overflow = 'hidden';
        }
        
        // Fonction pour fermer la modal de description
        function closeDescriptionModal() {
            const modal = document.getElementById('description-modal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Fonction pour ajouter/supprimer un produit de la comparaison
        function toggleCompare(productId) {
            const index = compareProducts.indexOf(productId);
            
            if (index === -1) {
                // Limiter à 4 produits pour la comparaison
                if (compareProducts.length < 4) {
                    compareProducts.push(productId);
                    showNotification("Produit ajouté à la comparaison");
                } else {
                    showNotification("Maximum 4 produits pour la comparaison");
                }
            } else {
                compareProducts.splice(index, 1);
                showNotification("Produit retiré de la comparaison");
            }
            
            // Mettre à jour l'affichage
            displayProducts();
            updateCompareBar();
        }

        // Mettre à jour la barre de comparaison
        function updateCompareBar() {
            const compareBar = document.getElementById('compare-bar');
            const compareItems = document.getElementById('compare-items');
            const compareCount = document.getElementById('compare-count');
            const compareButton = document.getElementById('btn-show-compare');
            
            // Mettre à jour le compteur
            compareCount.textContent = compareProducts.length;
            
            // Afficher ou masquer la barre
            if (compareProducts.length > 0) {
                compareBar.classList.add('active');
            } else {
                compareBar.classList.remove('active');
                return;
            }
            
            // Mettre à jour les éléments de comparaison
            compareItems.innerHTML = '';
            
            compareProducts.forEach(productId => {
                const product = products.find(p => p.id === productId);
                if (product) {
                    const item = document.createElement('div');
                    item.className = 'compare-item';
                    item.innerHTML = `
                        <img src="${product.image}" alt="${product.name}">
                        <div class="compare-item-name">${product.name}</div>
                        <button class="remove-compare" data-id="${product.id}">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    compareItems.appendChild(item);
                    
                    // Ajouter les événements de suppression
                    item.querySelector('.remove-compare').addEventListener('click', function(e) {
                        e.stopPropagation();
                        const id = parseInt(this.dataset.id);
                        toggleCompare(id);
                    });
                }
            });
            
            // Activer/désactiver le bouton de comparaison
            compareButton.disabled = compareProducts.length < 2;
        }

        // Afficher la modal de comparaison
        function showCompareModal() {
            const modal = document.getElementById('compare-modal');
            const content = document.getElementById('compare-content');
            
            // Générer le contenu de comparaison
            content.innerHTML = generateCompareContent();
            
            // Afficher la modal
            modal.classList.add('active');
        }

        // Générer le contenu de la comparaison
        function generateCompareContent() {
            if (compareProducts.length < 2) {
                return '<p>Sélectionnez au moins 2 produits pour les comparer.</p>';
            }
            
            // Récupérer les produits à comparer
            const productsToCompare = compareProducts.map(id => products.find(p => p.id === id));
            
            // Générer les en-têtes de colonnes
            let html = '<table class="compare-table">';
            
            // En-tête avec les noms des produits
            html += '<tr><th>Caractéristiques</th>';
            productsToCompare.forEach(product => {
                html += `
                    <th class="product-header">
                        <img src="${product.image}" alt="${product.name}">
                        <h4>${product.name}</h4>
                        <div class="price">${product.price.toLocaleString('fr-FR')} FCFA</div>
                    </th>
                `;
            });
            html += '</tr>';
            
            // Fonction pour ajouter une ligne de comparaison
            function addRow(label, key, unit = '') {
                html += `<tr><td><strong>${label}</strong></td>`;
                
                productsToCompare.forEach(product => {
                    let value = product[key] || 'N/A';
                    if (value !== 'N/A' && unit) value += ` ${unit}`;
                    html += `<td>${value}</td>`;
                });
                
                html += '</tr>';
            }
            
            // Ajouter les caractéristiques communes
            addRow('Marque', 'brand');
            addRow('Type', 'type');
            addRow('Prix', 'price', 'FCFA');
            
            // Ajouter les caractéristiques spécifiques
            if (productsToCompare.some(p => p.power)) {
                const unit = productsToCompare.some(p => p.type === 'converter') ? 'VA' : 'W';
                addRow('Puissance', 'power', unit);
            }
            
            if (productsToCompare.some(p => p.capacity)) {
                addRow('Capacité', 'capacity', 'Ah');
            }
            
            if (productsToCompare.some(p => p.battery)) {
                addRow('Batterie incluse', 'battery');
            }
            
            if (productsToCompare.some(p => p.voltage)) {
                addRow('Tension batterie', 'voltage', 'V');
            }
            
            if (productsToCompare.some(p => p.inputVoltage)) {
                addRow('Tension entrée', 'inputVoltage', 'V');
            }
            
            if (productsToCompare.some(p => p.efficiency)) {
                addRow('Efficacité', 'efficiency');
            }
            
            if (productsToCompare.some(p => p.warranty)) {
                addRow('Garantie', 'warranty');
            }
            
            if (productsToCompare.some(p => p.dimensions)) {
                addRow('Dimensions', 'dimensions');
            }
            
            if (productsToCompare.some(p => p.weight)) {
                addRow('Poids', 'weight', 'kg');
            }
            
            // Description
            html += '<tr><td><strong>Description</strong></td>';
            productsToCompare.forEach(product => {
                html += `<td>${product.description}</td>`;
            });
            html += '</tr>';
            
            // Boutons d'action
            html += '<tr><td><strong>Actions</strong></td>';
            productsToCompare.forEach(product => {
                html += `
                    <td>
                        <button class="btn-cart" data-id="${product.id}" style="margin: 5px;">
                            <i class="fas fa-shopping-cart"></i> Ajouter
                        </button>
                        <button class="btn-whatsapp" data-id="${product.id}" style="margin: 5px;">
                            <i class="fab fa-whatsapp"></i> Commander
                        </button>
                    </td>
                `;
            });
            html += '</tr>';
            
            html += '</table>';
            
            return html;
        }

        // Ajouter au panier
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            // Vérifier si le produit est déjà dans le panier
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    type: getProductType(product.type),
                    quantity: 1
                });
            }
            
            updateCartDisplay();
            showNotification(`"${product.name}" ajouté au panier`);
        }

        // Mettre à jour l'affichage du panier
        function updateCartDisplay() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const cartSummary = document.getElementById('cart-summary');
            
            cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartItems.innerHTML = '';
            
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                cartItems.innerHTML += `
                <div class="cart-item">
                    <div>
                        <strong>${item.name}</strong>
                        <div>${item.type} - ${item.quantity} x ${item.price.toLocaleString('fr-FR')} FCFA</div>
                    </div>
                    <div class="cart-item-actions">
                        <span>${(itemTotal).toLocaleString('fr-FR')} FCFA</span>
                        <button class="remove-from-cart" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                `;
            });
            
            cartTotal.textContent = `Total: ${total.toLocaleString('fr-FR')} FCFA`;
            
            // Afficher le panier s'il n'est pas vide
            if (cart.length > 0) {
                cartSummary.style.display = 'block';
            } else {
                cartSummary.style.display = 'none';
            }
            
            // Ajouter les événements de suppression
            document.querySelectorAll('.remove-from-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.dataset.id);
                    removeFromCart(productId);
                });
            });
        }

        // Supprimer un article du panier
        function removeFromCart(productId) {
            // Trouver l'index de l'article dans le panier
            const index = cart.findIndex(item => item.id === productId);
            if (index !== -1) {
                // Supprimer l'article du panier
                cart.splice(index, 1);
                updateCartDisplay();
                showNotification("Article supprimé du panier");
            }
        }

        // Ouvrir WhatsApp pour commander
        function openWhatsApp(product = null) {
            let message = "Bonjour, je souhaite commander:\n\n";
            
            if (product) {
                // Commande d'un produit spécifique
                message += `- ${product.name} (${getProductType(product.type)})\n`;
                message += `Prix: ${product.price.toLocaleString('fr-FR')} FCFA\n\n`;
            } else {
                // Commande du panier
                cart.forEach(item => {
                    message += `- ${item.name} (${item.type}) - ${item.quantity} x ${item.price.toLocaleString('fr-FR')} FCFA\n`;
                });
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                message += `\nTOTAL: ${total.toLocaleString('fr-FR')} FCFA\n\n`;
            }
            
            message += "Informations client:\n";
            message += "Nom: [Votre nom]\n";
            message += "Localisation: [Votre ville/quartier]\n";
            message += "Téléphone: [Votre numéro]\n\n";
            message += "Merci !";
            
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/22790143507?text=${encodedMessage}`, '_blank');
        }

        // Afficher les appareils dans le simulateur
        function displayAppliances() {
            const applianceList = document.getElementById('appliance-list');
            applianceList.innerHTML = '';
            
            if (appliances.length === 0) {
                applianceList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-plug"></i>
                        <p>Aucun équipement ajouté</p>
                    </div>
                `;
                return;
            }
            
            appliances.forEach((appliance, index) => {
                const div = document.createElement('div');
                div.className = 'appliance-item';
                div.innerHTML = `
                    <div>
                        <input type="text" class="appliance-input" value="${appliance.name}" placeholder="Nom appareil">
                    </div>
                    <div class="appliance-controls">
                        <input type="number" class="appliance-input" value="${appliance.power}" min="1" placeholder="W">
                        <span>×</span>
                        <input type="number" class="appliance-hours" value="${appliance.hours}" min="1" max="24" placeholder="h/j">
                        <span>×</span>
                        <input type="number" class="appliance-quantity" value="${appliance.quantity}" min="1" placeholder="Qty">
                        <span class="simultane-indicator">
                            <i class="fas ${appliance.simultane ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                        </span>
                        <button class="action-btn delete-btn" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                applianceList.appendChild(div);
                
                // Ajouter les événements de suppression
                div.querySelector('.delete-btn').addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    appliances.splice(index, 1);
                    displayAppliances();
                });
                
                // Ajouter les événements de modification
                div.querySelectorAll('.appliance-input, .appliance-hours, .appliance-quantity').forEach(input => {
                    input.addEventListener('input', function() {
                        const index = parseInt(this.closest('.appliance-item').querySelector('.delete-btn').dataset.index);
                        const nameInput = this.closest('.appliance-item').querySelector('.appliance-input:first-of-type');
                        const powerInput = this.closest('.appliance-item').querySelector('.appliance-input:nth-of-type(2)');
                        const hoursInput = this.closest('.appliance-item').querySelector('.appliance-hours');
                        const quantityInput = this.closest('.appliance-item').querySelector('.appliance-quantity');
                        
                        appliances[index] = {
                            name: nameInput.value,
                            power: parseInt(powerInput.value) || 0,
                            hours: parseInt(hoursInput.value) || 0,
                            quantity: parseInt(quantityInput.value) || 1,
                            simultane: appliances[index].simultane
                        };
                    });
                });
            });
        }

        // Ajouter un nouvel appareil
        function addNewAppliance() {
            const name = document.getElementById('appliance-name').value.trim();
            const power = parseInt(document.getElementById('appliance-power').value);
            const hours = parseInt(document.getElementById('appliance-hours').value);
            const quantity = parseInt(document.getElementById('appliance-quantity').value) || 1;
            const simultane = document.getElementById('appliance-simultane').value === "1";
            
            if (!name || isNaN(power) || isNaN(hours) || power <= 0 || hours <= 0) {
                alert("Veuillez remplir tous les champs correctement");
                return;
            }
            
            appliances.push({
                name,
                power,
                hours,
                quantity,
                simultane
            });
            
            // Réinitialiser les champs
            document.getElementById('appliance-name').value = '';
            document.getElementById('appliance-power').value = '';
            document.getElementById('appliance-hours').value = '';
            document.getElementById('appliance-quantity').value = '1';
            
            displayAppliances();
            
            // Focus sur le champ nom
            document.getElementById('appliance-name').focus();
        }

        // Simuler et redimensionner le système avec marge de sécurité de 30%
        function simulerEtRedimensionner() {
            const region = document.getElementById('region').value;
            const ensoleillement = solarDataNiger.regions[region].sunHours;
            const rendement = solarDataNiger.systemEfficiency;
            const tension_batterie = parseInt(document.getElementById('system-voltage').value);
            const jours_autonomie = solarDataNiger.daysAutonomy;
            const facteur_securite = 1.3; // Marge de sécurité de 30%

            let consoWh = 0;
            let picW = 0;

            appliances.forEach(app => {
                const daily = app.power * app.hours * app.quantity;
                consoWh += daily;
                if (app.simultane) picW += app.power * app.quantity;
            });

            // Puissance panneaux brute avec marge
            const panneaux_W = Math.ceil(consoWh / (ensoleillement * rendement) * facteur_securite);

            // Énergie à stocker = conso x jours d'autonomie
            const stockage_total = consoWh * jours_autonomie;

            // Batterie nécessaire (Ah) avec marge
            const batterie_Ah = Math.ceil((stockage_total / tension_batterie) * facteur_securite);

            // Puissance du convertisseur nécessaire (W) avec marge
            const onduleur_W = Math.ceil(picW * facteur_securite);

            return {
                conso_par_jour: (consoWh / 1000).toFixed(2) + " kWh",
                panneaux_W,
                batterie_Ah,
                tension_batterie,
                onduleur_W,
                ensoleillement
            };
        }

        // Fonction pour recommander les produits
        function recommanderProduits(systemVoltage, requiredPower, requiredBatteryAh) {
            const voltage = parseInt(systemVoltage);
            const marge = 1.3; // 30% de marge de sécurité

            const puissanceAvecMarge = requiredPower * marge;
            const batterieAvecMarge = requiredBatteryAh * marge;

            // 🔋 Recommandation de batteries compatibles
            const batteriesCompatibles = products.filter(p => 
                p.type === 'battery' && 
                parseInt(p.voltage) === voltage
            ).sort((a, b) => a.capacity - b.capacity);

            let batterieHTML = '';
            if (batteriesCompatibles.length > 0) {
                batterieHTML = batteriesCompatibles.map(battery => {
                    // Calculer le nombre de batteries nécessaires
                    const nombreBatteries = Math.ceil(batterieAvecMarge / battery.capacity);
                    
                    return `
                        <div class="recommendation-item">
                            <span>${battery.name} (${battery.voltage}V / ${battery.capacity}Ah) x${nombreBatteries}</span>
                            <span class="recommendation-value">${(battery.price * nombreBatteries).toLocaleString('fr-FR')} FCFA</span>
                        </div>
                        <button class="btn-view-product" data-id="${battery.id}">
                            <i class="fas fa-eye"></i> Voir le produit
                        </button>
                    `;
                }).join('');
            } else {
                batterieHTML = '<p>Aucune batterie disponible à cette tension.</p>';
            }

            document.getElementById('recommended-batteries').innerHTML = `
                <h4><i class="fas fa-car-battery"></i> Batteries compatibles (${voltage}V)</h4>
                ${batterieHTML}
            `;

            // ⚡ Recommandation de convertisseurs compatibles
            const convertisseursCompatibles = products.filter(p => 
                p.type === 'converter' && 
                p.power >= puissanceAvecMarge && 
                (p.inputVoltage ? parseInt(p.inputVoltage) === voltage : true)
            ).sort((a, b) => a.power - b.power);

            let convertisseurHTML = '';
            if (convertisseursCompatibles.length > 0) {
                convertisseurHTML = convertisseursCompatibles.map(conv => `
                    <div class="recommendation-item">
                        <span>${conv.name} (${conv.power}VA)</span>
                        <span class="recommendation-value">${conv.price.toLocaleString('fr-FR')} FCFA</span>
                    </div>
                    <button class="btn-view-product" data-id="${conv.id}">
                        <i class="fas fa-eye"></i> Voir le produit
                    </button>
                `).join('');
            } else {
                convertisseurHTML = '<p>Aucun convertisseur adapté trouvé.</p>';
            }

            document.getElementById('recommended-converters').innerHTML = `
                <h4><i class="fas fa-plug"></i> Convertisseurs compatibles (${voltage}V)</h4>
                ${convertisseurHTML}
            `;

            // ☀️ Recommandation de panneaux solaires
            const panneauxCompatibles = products.filter(p => 
                p.type === 'panel' && 
                p.power <= 500 // On prend les panneaux jusqu'à 500W
            ).sort((a, b) => b.power - a.power); // Du plus puissant au moins puissant

            let panneauxHTML = '';
            if (panneauxCompatibles.length > 0) {
                panneauxHTML = panneauxCompatibles.map(panneau => {
                    // Calculer le nombre de panneaux nécessaires
                    const nombrePanneaux = Math.ceil(puissanceAvecMarge / panneau.power);
                    
                    return `
                        <div class="recommendation-item">
                            <span>${panneau.name} (${panneau.power}W) x${nombrePanneaux}</span>
                            <span class="recommendation-value">${(panneau.price * nombrePanneaux).toLocaleString('fr-FR')} FCFA</span>
                        </div>
                        <button class="btn-view-product" data-id="${panneau.id}">
                            <i class="fas fa-eye"></i> Voir le produit
                        </button>
                    `;
                }).join('');
            } else {
                panneauxHTML = '<p>Aucun panneau disponible.</p>';
            }

            document.getElementById('recommended-panels').innerHTML = `
                <h4><i class="fas fa-solar-panel"></i> Panneaux solaires recommandés</h4>
                ${panneauxHTML}
            `;

            // ⚠️ Alerte si aucune batterie/convertisseur ne correspond
            if (batteriesCompatibles.length === 0 || convertisseursCompatibles.length === 0 || panneauxCompatibles.length === 0) {
                showNotification("⚠️ Vérifiez que des produits sont bien disponibles à la tension " + voltage + "V.");
            }
        }

        // Mettre à jour l'affichage des résultats
        function updateResults() {
            const result = simulerEtRedimensionner();
            const region = document.getElementById('region').value;
            const sunHours = solarDataNiger.regions[region].sunHours;
            
            // Mise à jour de l'affichage
            document.getElementById('power-result').textContent = `${result.panneaux_W}Wc`;
            
            if (appliances.length > 0) {
                document.getElementById('result-details').innerHTML = `
                    <p><i class="fas fa-sun"></i> Ensoleillement: <strong>${sunHours} h/j</strong></p>
                    <p><i class="fas fa-bolt"></i> Consommation estimée: <strong>${result.conso_par_jour}</strong></p>
                    <p><i class="fas fa-battery-full"></i> Batterie nécessaire: <strong>${result.batterie_Ah} Ah (${result.tension_batterie}V)</strong></p>
                    <p><i class="fas fa-plug"></i> Convertisseur nécessaire: <strong>${result.onduleur_W} W</strong></p>
                `;
                
                // Appel à la fonction de recommandation
                recommanderProduits(result.tension_batterie, result.onduleur_W, result.batterie_Ah);
                
            } else {
                document.getElementById('recommendation-text').textContent = "Saisissez vos besoins pour obtenir une recommandation";
                document.getElementById('recommended-panels').innerHTML = '';
                document.getElementById('recommended-batteries').innerHTML = '';
                document.getElementById('recommended-converters').innerHTML = '';
            }
        }

        // Afficher une notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.5s';
                setTimeout(() => {
                    notification.style.display = 'none';
                    notification.style.animation = '';
                }, 500);
            }, 3000);
        }

        // Valider le formulaire de commande
        function validateOrderForm(formId) {
            const name = document.getElementById(`${formId}-name`).value.trim();
            const phone = document.getElementById(`${formId}-phone`).value.trim();
            const address = document.getElementById(`${formId}-address`).value.trim();
            let isValid = true;
            
            // Réinitialiser les erreurs
            document.getElementById(`${formId}-name-error`).style.display = 'none';
            document.getElementById(`${formId}-phone-error`).style.display = 'none';
            document.getElementById(`${formId}-address-error`).style.display = 'none';
            
            if (!name) {
                document.getElementById(`${formId}-name-error`).style.display = 'block';
                isValid = false;
            }
            
            if (!phone || !/^\d{8,15}$/.test(phone)) {
                document.getElementById(`${formId}-phone-error`).style.display = 'block';
                isValid = false;
            }
            
            if (!address) {
                document.getElementById(`${formId}-address-error`).style.display = 'block';
                isValid = false;
            }
            
            return isValid;
        }
        
        // Soumettre une commande
        function submitOrder(formId) {
            if (!validateOrderForm(formId)) return;
            
            const name = document.getElementById(`${formId}-name`).value.trim();
            const phone = document.getElementById(`${formId}-phone`).value.trim();
            const address = document.getElementById(`${formId}-address`).value.trim();
            const notes = document.getElementById(`${formId}-notes`).value.trim();
            
            // Enregistrer la commande (simulation)
            const order = {
                name,
                phone,
                address,
                notes,
                date: new Date().toISOString(),
                items: cart
            };
            
            // Stocker dans localStorage
            localStorage.setItem('lastOrder', JSON.stringify(order));
            
            // Réinitialiser le formulaire
            document.getElementById(`${formId}-name`).value = '';
            document.getElementById(`${formId}-phone`).value = '';
            document.getElementById(`${formId}-address`).value = '';
            document.getElementById(`${formId}-notes`).value = '';
            
            // Vider le panier
            cart = [];
            updateCartDisplay();
            
            showNotification("Commande enregistrée avec succès !");
        }
        
        // Télécharger un bon de commande
        function downloadOrderForm() {
            // Simuler le téléchargement d'un PDF
            showNotification("Bon de commande téléchargé");
            
            // En réalité, on pourrait générer un PDF ou proposer un lien vers un fichier
            return false;
        }

        // Initialisation
        window.onload = function() {
            // Charger les produits
            loadProducts();
            displayAppliances();
            updateCompareBar();
            
            // Menu hamburger pour mobile
            document.getElementById('hamburger').addEventListener('click', function() {
                this.classList.toggle('active');
                document.getElementById('nav-links').classList.toggle('active');
            });
            
            // Navigation par onglets
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    currentPage = 1; // Réinitialiser la pagination
                    displayProducts();
                    
                    // Défilement vers la section produits avec un offset pour l'en-tête
                    const header = document.querySelector('header');
                    const headerHeight = header ? header.offsetHeight : 70; // 70 est une valeur par défaut
                    const productsSection = document.getElementById('products');
                    if (productsSection) {
                        const offsetPosition = productsSection.offsetTop - headerHeight;
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Filtres
            document.querySelectorAll('.filter-group select, .filter-group input').forEach(element => {
                element.addEventListener('change', function() {
                    currentPage = 1; // Réinitialiser la pagination
                    displayProducts();
                });
            });
            
            // Recherche intelligente
            document.getElementById('search').addEventListener('input', function() {
                currentPage = 1; // Réinitialiser la pagination
                displayProducts();
            });
            
            // Simulateur
            document.getElementById('add-appliance-btn').addEventListener('click', addNewAppliance);
            document.getElementById('calculate-button').addEventListener('click', updateResults);
            
            // Panier
            document.getElementById('cart-button').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('cart-summary').scrollIntoView({behavior: 'smooth'});
            });
            
            document.getElementById('checkout-button').addEventListener('click', function() {
                if (isMobileDevice()) {
                    openWhatsApp();
                } else {
                    document.getElementById('order-form').style.display = 'block';
                }
            });
            
            document.getElementById('submit-order').addEventListener('click', function() {
                submitOrder('order');
            });
            
            document.getElementById('download-order').addEventListener('click', downloadOrderForm);
            
            // Gestion de la comparaison
            document.getElementById('btn-show-compare').addEventListener('click', showCompareModal);
            document.getElementById('btn-clear-compare').addEventListener('click', function() {
                compareProducts = [];
                updateCompareBar();
                displayProducts();
            });
            document.getElementById('close-compare-modal').addEventListener('click', function() {
                document.getElementById('compare-modal').classList.remove('active');
            });
            
            // Fermer la modal en cliquant en dehors
            document.getElementById('compare-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
            
            // Écouter les événements de clic dans le contenu de comparaison
            document.getElementById('compare-content').addEventListener('click', function(e) {
                if (e.target.classList.contains('btn-cart')) {
                    const productId = parseInt(e.target.dataset.id);
                    addToCart(productId);
                }
                if (e.target.classList.contains('btn-whatsapp')) {
                    const productId = parseInt(e.target.dataset.id);
                    const product = products.find(p => p.id === productId);
                    openWhatsApp(product);
                }
            });
            
            // Gestion des boutons "Voir le produit" dans les résultats
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('btn-view-product')) {
                    const productId = parseInt(e.target.dataset.id);
                    const product = products.find(p => p.id === productId);
                    
                    if (product) {
                        // Changer l'onglet selon le type de produit
                        let tab = '';
                        if (product.type === 'panel') tab = 'panels';
                        else if (product.type === 'battery') tab = 'batteries';
                        else if (product.type === 'converter') tab = 'converters';
                        else if (product.type === 'kit') tab = 'kits';
                        
                        if (tab) {
                            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                            document.querySelector(`.tab-button[data-tab="${tab}"]`).classList.add('active');
                        }
                        
                        // Recharger les produits
                        currentPage = 1;
                        displayProducts();
                        
                        // Scroller jusqu'au produit
                        setTimeout(() => {
                            const productCard = document.querySelector(`.product-card[data-id="${productId}"]`);
                            if (productCard) {
                                productCard.scrollIntoView({behavior: 'smooth'});
                                
                                // Mettre en surbrillance
                                productCard.classList.add('highlight');
                                setTimeout(() => {
                                    productCard.classList.remove('highlight');
                                }, 3000);
                            }
                        }, 300);
                    }
                }
                
                // Gestion de la suppression d'articles du panier
                if (e.target.classList.contains('remove-from-cart') || 
                    e.target.closest('.remove-from-cart')) {
                    const button = e.target.classList.contains('remove-from-cart') ? 
                                 e.target : e.target.closest('.remove-from-cart');
                    const productId = parseInt(button.dataset.id);
                    removeFromCart(productId);
                }
            });
            
            // Fermer la modal de description
            document.querySelector('.close-description-modal').addEventListener('click', closeDescriptionModal);
            
            // Fermer la modal en cliquant en dehors
            document.getElementById('description-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeDescriptionModal();
                }
            });
            
            // Gestion de la modale d'aide
            const helpModal = document.getElementById('help-modal');
            const helpLink = document.getElementById('help-link');
            const closeHelpModal = document.querySelector('.close-help-modal');
            const helpFooterLink = document.getElementById('help-footer-link');
            
            // Ouvrir la modale d'aide
            helpLink.addEventListener('click', function(e) {
                e.preventDefault();
                helpModal.style.display = 'block';
            });
            
            // Fermer la modale d'aide
            closeHelpModal.addEventListener('click', function() {
                helpModal.style.display = 'none';
            });
            
            // Fermer en cliquant en dehors
            helpModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    helpModal.style.display = 'none';
                }
            });
            
            // Gestion de l'accordéon FAQ
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.parentNode;
                    faqItem.classList.toggle('active');
                });
            });
            
            // Lien d'aide dans le footer
            helpFooterLink.addEventListener('click', function(e) {
                e.preventDefault();
                helpModal.style.display = 'block';
            });
        };
    </script>
    <script>
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on("init", user => {
      if (!user) {
        window.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }
</script>
</body>
</html>
